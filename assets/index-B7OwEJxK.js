import{r as a,b as Z,k as _,H as $,j as e,A as q}from"./index-B7EDHShO.js";import{B as V}from"./BackBtn-CSTzC4ci.js";import{H as z}from"./Heading-DW26iUKW.js";import{h as i}from"./moment-C5S46NFB.js";import{T as K,a as Q,b as w,c as t,d as U,e as r}from"./Tr-CFhT2wbf.js";import{P as W}from"./index-CqrQsClu.js";import{P as k}from"./plus-icon-Cm0htiCt.js";import{c as G}from"./confirmBox-BrVpeNRy.js";import{u as J}from"./useQuery-BH2ipur7.js";import{L as O}from"./useWindowSize-DFtMrG7S.js";import{D as X}from"./DisplayError-DJ1Lcd3h.js";import{I as ee}from"./ItemNotFound-DyPlXfej.js";import"./index-Chjiymov.js";import"./LoadingBtn-DmYHjot9.js";import"./ClipLoader-DJNL0iZY.js";function fe(){const[c,T]=a.useState([]),[d,v]=a.useState(1),[P,S]=a.useState(1),g=10,[o,N]=a.useState(""),[n,C]=a.useState(""),[x,F]=a.useState(""),[p,u]=a.useState(""),h=Z(),[A,B]=a.useState("");console.log("doc deleted id:",A),a.useEffect(()=>{if(o&&n){if(i(n).isSame(o)||i(n).isBefore(o))return u("2025-01-11T23:59:59.999Z");if(i(o).isAfter(n))return N("2025-01-11T23:59:59.999Z");F(o),u(n)}},[o,n]);const E=["fetch-AutoTradePackages",{currentPage:d,limit:g,backendFromDate:x,backendToDate:p}],{isLoading:I,data:m,isError:Y,error:f}=J({queryKey:E,queryFn:()=>{const s=new URLSearchParams;return s.append("page",d),s.append("pageSize",g),x&&s.append("from",x),p&&s.append("to",p),q.get(`/auto-trade-package?${s.toString()}`)}});a.useEffect(()=>{if(m){const{data:{data:{docs:s,pages:l}}}=m;T(s),S(l)}f&&_.error($(f))},[m,f]);const M=()=>{h("/app/auto-trade-packages/add")},H=s=>{h(`/app/auto-trade-packages/details/${s}`)},L=s=>{h(`/app/auto-trade-packages/edit/${s}`)},R=s=>{G({message:"Are you sure? You want to delete this document?",onYesClick:()=>B(s)})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(z,{title:"Auto Trade Packages"}),e.jsx(V,{})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400",children:"Add"})}),e.jsxs("div",{className:"flex justify-between max-[400px]:flex-col gap-5",children:[e.jsxs("div",{className:"form-row",children:[e.jsx("label",{htmlFor:"fromDate",children:"From Date"}),e.jsx("input",{type:"date",id:"fromDate",placeholder:"Select Date",onChange:s=>{N(s.target.value)},value:o})]}),e.jsxs("div",{className:"form-row",children:[e.jsx("label",{htmlFor:"toDate",children:"To Date"}),e.jsx("input",{type:"date",id:"toDate",placeholder:"Select Date",onChange:s=>{C(s.target.value)},value:n})]})]}),I?e.jsx(O,{}):Y?e.jsx(X,{}):(c==null?void 0:c.length)===0?e.jsx(ee,{}):e.jsx("div",{className:"bg-secondary rounded-lg p-2 overflow-x-auto",children:e.jsxs("div",{className:"bg-dark  p-2 rounded-lg overflow-container  custom-scrollbar",children:[e.jsxs(K,{className:"sm:text-base text-sm table-auto  ",children:[e.jsx(Q,{className:"bg-secondary text-left rounded-lg",children:e.jsxs(w,{children:[e.jsx(t,{scope:"col",className:" font-medium px-6 py-4 text-center",children:"Sr"}),e.jsx(t,{scope:"col",className:" font-medium px-6 py-4 text-center",children:"Title"}),e.jsx(t,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"From Coins"}),e.jsx(t,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"To Coins"}),e.jsx(t,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Daily Profit %"}),e.jsx(t,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Deposit Bonus %"}),e.jsx(t,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Date & Time"}),e.jsx(t,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Action"})]})}),e.jsx(U,{children:c==null?void 0:c.map((s,l)=>{var j,y,b,D;return e.jsxs(w,{className:"text-grayText sm:hover:bg-stroke hover:text-pure border-b border-b-gray-700",children:[e.jsx(r,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:s==null?void 0:s.longAutoIncrementId}),e.jsx(r,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:(s==null?void 0:s.title)||"abc"}),e.jsx(r,{className:"px-0 py-4 whitespace-nowrap sm:text-center ",children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("span",{children:e.jsx("img",{src:k,alt:"coins icon",width:"16",height:"16"})}),e.jsx("span",{children:((j=s==null?void 0:s.minCoins)==null?void 0:j.toFixed(2))||0})]})}),e.jsx(r,{className:"px-0 py-4 whitespace-nowrap sm:text-center ",children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("span",{children:e.jsx("img",{src:k,alt:"coins icon",width:"16",height:"16"})}),e.jsx("span",{children:((y=s==null?void 0:s.maxCoins)==null?void 0:y.toFixed(2))||0})]})}),e.jsx(r,{className:"px-0 py-4 whitespace-nowrap sm:text-center ",children:((b=s==null?void 0:s.autoTradeDailyProfitRate)==null?void 0:b.toFixed(2))||0}),e.jsx(r,{className:"px-0 py-4 whitespace-nowrap sm:text-center ",children:((D=s==null?void 0:s.autoTradeDepositBonus)==null?void 0:D.toFixed(2))||0}),e.jsx(r,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:i((s==null?void 0:s.createdAt)||"2025-01-01").format("D, MMMM YYYY, hh:mm A")}),e.jsx(r,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("button",{className:"text-blue-500",title:"View",onClick:()=>H(s==null?void 0:s._id),children:e.jsx("i",{className:"uil uil-eye text-xl  "})}),e.jsx("button",{className:"text-green-500",title:"Edit",onClick:()=>L(s==null?void 0:s._id),children:e.jsx("i",{className:"uil uil-pen text-xl  "})}),e.jsx("button",{className:"text-red-500",title:"Delete",onClick:()=>R(s==null?void 0:s._id),children:e.jsx("i",{className:"uil uil-trash text-xl  "})})]})})]},l)})})]}),e.jsx(W,{totalPages:P,currentPage:d,setCurrentPage:v})]})})]})})}export{fe as default};
