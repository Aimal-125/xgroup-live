import{u as g,r as d,k as b,H as y,j as s,A as M}from"./index-1pnDSHOU.js";import{h as N}from"./moment-C5S46NFB.js";import{B as v}from"./BackBtn-B5DGhZU0.js";import{H as D}from"./Heading-BRXzxPrf.js";import{P as c}from"./plus-icon-Cm0htiCt.js";import{u as I}from"./useQuery-CvgeLYcU.js";import{L as k}from"./useWindowSize-BkpUPsDX.js";import{D as A}from"./DisplayError-DsQrJfhQ.js";import{I as E}from"./ItemNotFound-d29NNkJk.js";import"./LoadingBtn-DpcvXiWk.js";import"./ClipLoader-CriU2_1a.js";function O(){var i,o,l,m;const{id:t}=g(),[e,u]=d.useState([]),x=["fetch-miningDetails",{id:t}],{isLoading:p,data:a,isError:f,error:n}=I({queryKey:x,queryFn:()=>M.get(`/mining-history/${t}`)});d.useEffect(()=>{if(a){const{data:{data:{doc:r}}}=a;u(r)}n&&b.error(y(n))},[a,n]);const j=[{label:"Sr",value:(e==null?void 0:e.longAutoIncrementId)||(e==null?void 0:e.autoIncrementId)||"N/A"},{label:"Username",value:((i=e==null?void 0:e.user)==null?void 0:i.username)||((o=e==null?void 0:e.user)==null?void 0:o.fullName)||"user"},{label:"Mine Coins",value:((l=e==null?void 0:e.minedCoins)==null?void 0:l.toFixed(2))||parseInt(0).toFixed(2),icon:c},{label:"Date & Time",date:(e==null?void 0:e.createdAt)||"2025-01-01"}];return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(D,{title:"MC Minings Details"}),s.jsx(v,{})]}),p?s.jsx(k,{}):f?s.jsx(A,{}):((m=Object.keys(e))==null?void 0:m.length)===0?s.jsx(E,{}):s.jsx("div",{className:"border border-gray-700 rounded-md bg-dark",children:j.map((r,h)=>s.jsxs("div",{className:"flex justify-between px-4 py-4 border-b border-b-gray-700 last-of-type:border-none",children:[s.jsx("p",{className:"",children:r.label}),s.jsx("p",{className:"",children:s.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.icon?s.jsx("span",{children:s.jsx("img",{src:c,alt:"icon",width:"16",height:"16"})}):"",r!=null&&r.date?s.jsx("span",{children:N(r==null?void 0:r.date).format("D, MMMM YYYY, hh:mm A")}):"",s.jsx("span",{children:r.value})]})})]},h))})]})})}export{O as default};
