import{j as e,L as f,r as x,u as d,A as j}from"./index-CR2PTnGP.js";import{S as p}from"./Status-QkBM8NRO.js";import{h as c}from"./moment-C5S46NFB.js";import{P as h}from"./plus-icon-Cm0htiCt.js";import{B as b}from"./BackBtn-qMQnlAqP.js";import{H as g}from"./Heading-BGYpxq2W.js";import{u as v}from"./useQuery-BvaY5-TG.js";import{L as N}from"./useWindowSize-Do2-NPva.js";import{D as y}from"./DisplayError-DwBfIbvM.js";import{I as D}from"./ItemNotFound-BOlywaMD.js";import"./LoadingBtn-BtdHQEGi.js";import"./ClipLoader-BVQCHCPU.js";const A=({label:s,value:r,to:a,isLast:t})=>e.jsxs("div",{className:`flex items-center justify-between gap-4 p-4 pb-5 ${t?"":"border-b border-b-gray-700"}`,children:[e.jsx("h6",{children:s}),a?e.jsx(f,{to:a,className:"text-grayText underline",children:r}):e.jsx("div",{className:"text-grayText",children:r})]}),I=({value:s})=>e.jsx(e.Fragment,{children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("span",{className:"w-[16px] h-[16px]",children:e.jsx("img",{src:h,alt:"plus-icon",style:{width:"100%",height:"100%"}})}),e.jsx("span",{children:s})]})}),T=({doc:s})=>{const{user:{email:r,fullName:a,username:t},fromWallet:{type:n},createdAt:l,coinsTransferred:i}=s,o=[{label:"OrderID",value:s!=null&&s.transferID?s==null?void 0:s.transferID:"N/A"},{label:"Full Name",value:a||"N/A"},{label:"User Name",value:t||"N/A"},{label:"Email",value:r},{label:"From",value:n==null?void 0:n.replace("_"," ")},{label:"To",value:"Trade"},{label:"Date",value:c(l).format("DD MMM YYYY")},{label:"Time",value:c(l).format("hh:mm A")},{label:"Coins	",value:e.jsx(I,{value:i?i==null?void 0:i.toFixed(2):"N/A"})},{label:"Status",value:e.jsx(p,{status:s==null?void 0:s.status})}];return e.jsx("div",{children:o.map((m,u)=>e.jsx(A,{label:m.label,value:m.value,isLast:u===o.length-1},u))})},O=()=>{var o;const[s,r]=x.useState([]),{id:a}=d(),t=["fetch-singleTransferHistory",{id:a}],{isLoading:n,data:l,isError:i}=v({queryKey:t,queryFn:()=>j.get(`/transfer/${a}`)});return x.useEffect(()=>{if(l){const{data:{data:{doc:m}}}=l;r(m)}},[l]),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{title:"Transfer History Details"}),e.jsx(b,{})]}),e.jsx("div",{className:"bg-dark mt-6 rounded-lg",children:n?e.jsx(N,{}):i?e.jsx(y,{message:"An error occured while fetching details."}):((o=Object.keys(s))==null?void 0:o.length)===0?e.jsx(D,{message:"No data found."}):e.jsx(T,{doc:s})})]})};export{O as default};
