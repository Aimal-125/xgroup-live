import{u as y,r as l,j as e,A as u,k as N}from"./index-B7EDHShO.js";import{F as q,a as g}from"./formik.esm-DEzKEWAH.js";import{B as E}from"./BackBtn-CSTzC4ci.js";import{H as F}from"./Heading-DW26iUKW.js";import{F as r}from"./FormControl-DgOezG3Z.js";import{c as T,a as n}from"./index.esm-DElqZkcs.js";import{u as v}from"./useQuery-BH2ipur7.js";import"./Input-Dl_zu7N-.js";import"./react-tooltip.min-CfVVvbF_.js";import"./index-LvzHWtTh.js";import"./index-Chjiymov.js";function z(){const{id:i}=y(),[t,d]=l.useState([]),[m,h]=l.useState(!1),p=["fetch-withdrawMethod",{id:i,updated:m}],{data:s}=v({queryKey:p,queryFn:()=>u.get(`/user/withdraw-method/${i}`)});l.useEffect(()=>{if(s){const{data:{data:{doc:a}}}=s;d(a)}},[s]);const x=async(a,{setSubmitting:c})=>{try{c(!0);const{data:o}=await u.patch(`/user/withdraw-method/${i}`,a),{data:{message:b},success:j}=o;j&&(N.success(b),h(!0))}catch(o){console.error(o)}finally{c(!1)}},f=T().shape({withdrawPaymentMethod:n().required("Required"),financialInstitutionTitle:n().required("Required"),accountHolderTitle:n().required("Required"),accountNumber:n().required("Required")}),w={withdrawPaymentMethod:(t==null?void 0:t.withdrawPaymentMethod)||"",financialInstitutionTitle:(t==null?void 0:t.financialInstitutionTitle)||"",accountHolderTitle:(t==null?void 0:t.accountHolderTitle)||"",accountNumber:(t==null?void 0:t.accountNumber)||""};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(F,{title:"Withdrawal Accounts Edit"}),e.jsx(E,{})]}),e.jsx("div",{className:"mt-10",children:e.jsx(q,{initialValues:w,validationSchema:f,onSubmit:x,enableReinitialize:!0,children:a=>e.jsxs(g,{className:"flex bg-dark rounded-lg p-5 flex-col gap-5",children:[e.jsxs("div",{className:"flex gap-4 md:flex-row flex-col",children:[e.jsx(r,{label:"Payment Method",control:"input",placeholder:"Enter Payment Method",name:"withdrawPaymentMethod",formik:a}),e.jsx(r,{label:"Financial Institution",control:"input",placeholder:"Enter Financial Instituion Name",name:"financialInstitutionTitle",formik:a})]}),e.jsxs("div",{className:"flex gap-4 md:flex-row flex-col",children:[e.jsx(r,{label:"Account Holder",control:"input",placeholder:"Enter account holder name",name:"accountHolderTitle",formik:a}),e.jsx(r,{label:"Account Number",control:"input",placeholder:"Enter account number",name:"accountNumber",formik:a})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"btn-primary w-[200px] max-[600px]:w-full py-2 px-4 block ml-auto",disabled:a.isSubmitting,children:"Save"})})]})})})]})}export{z as default};
