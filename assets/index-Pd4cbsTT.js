import{r as s,b as B,k as C,H as L,j as e,A as M}from"./index-CR2PTnGP.js";import{B as Q}from"./BackBtn-qMQnlAqP.js";import{H as U}from"./Heading-BGYpxq2W.js";import{h as l}from"./moment-C5S46NFB.js";import{T as q,a as H,b,c as n,d as Y,e as c}from"./Tr-Cwkp4QFl.js";import{P as V}from"./index-JjVOQ-Uu.js";import{u as Z}from"./useQuery-BvaY5-TG.js";import{L as R}from"./useWindowSize-Do2-NPva.js";import{D as $}from"./DisplayError-DwBfIbvM.js";import{I as z}from"./ItemNotFound-BOlywaMD.js";import"./LoadingBtn-BtdHQEGi.js";import"./ClipLoader-BVQCHCPU.js";function oe(){const[o,D]=s.useState([]),[i,v]=s.useState(1),[w,S]=s.useState(1),h=10,[t,j]=s.useState(""),[r,T]=s.useState(""),[d,k]=s.useState(""),[p,x]=s.useState(""),F=B();s.useEffect(()=>{if(t&&r){if(l(r).isSame(t)||l(r).isBefore(t))return x("2025-01-11T23:59:59.999Z");if(l(t).isAfter(r))return j("2025-01-11T23:59:59.999Z");k(t),x(r)}},[t,r]);const P=["fetch-salaryQualifiedUsers",{currentPage:i,limit:h,backendFromDate:d,backendToDate:p}],{isLoading:A,data:m,isError:E,error:u}=Z({queryKey:P,queryFn:()=>{const a=new URLSearchParams;return a.append("page",i),a.append("pageSize",h),d&&a.append("from",d),p&&a.append("to",p),M.get(`/salary-level-qualification?${a.toString()}`)}});s.useEffect(()=>{if(m){const{data:{data:{docs:a,pages:f}}}=m;D(a),S(f)}u&&C.error(L(u))},[m,u]);const I=a=>{F(`/app/salary-qualified-users/details/${a}`)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(U,{title:"Salary Qualified Users"}),e.jsx(Q,{})]}),e.jsxs("div",{className:"flex justify-between max-[400px]:flex-col gap-5",children:[e.jsxs("div",{className:"form-row",children:[e.jsx("label",{htmlFor:"fromDate",children:"From Date"}),e.jsx("input",{type:"date",id:"fromDate",placeholder:"Select Date",onChange:a=>{j(a.target.value)},value:t})]}),e.jsxs("div",{className:"form-row",children:[e.jsx("label",{htmlFor:"toDate",children:"To Date"}),e.jsx("input",{type:"date",id:"toDate",placeholder:"Select Date",onChange:a=>{T(a.target.value)},value:r})]})]}),A?e.jsx(R,{}):E?e.jsx($,{}):(o==null?void 0:o.length)===0?e.jsx(z,{}):e.jsx("div",{className:"bg-secondary rounded-lg p-2 overflow-x-auto",children:e.jsxs("div",{className:"bg-dark  p-2 rounded-lg overflow-container  custom-scrollbar",children:[e.jsxs(q,{className:"sm:text-base text-sm table-auto  ",children:[e.jsx(H,{className:"bg-secondary text-left rounded-lg",children:e.jsxs(b,{children:[e.jsx(n,{scope:"col",className:" font-medium px-6 py-4 text-center",children:"Sr"}),e.jsx(n,{scope:"col",className:" font-medium px-6 py-4 text-center",children:"Username"}),e.jsx(n,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Qualified Category"}),e.jsx(n,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Date & Time"}),e.jsx(n,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Action"})]})}),e.jsx(Y,{children:o==null?void 0:o.map((a,f)=>{var g,y,N;return e.jsxs(b,{className:"text-grayText sm:hover:bg-stroke hover:text-pure border-b border-b-gray-700",children:[e.jsx(c,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:(a==null?void 0:a.longAutoIncrementId)||(a==null?void 0:a.autoIncrementId)||"N/A"}),e.jsx(c,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:(g=a==null?void 0:a.user)==null?void 0:g.username}),e.jsx(c,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:(N=(y=a==null?void 0:a.user)==null?void 0:y.salaryLevel)==null?void 0:N.stringValue}),e.jsx(c,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:l((a==null?void 0:a.createdAt)||"2025-01-01").format("D, MMMM YYYY, hh:mm A")}),e.jsx(c,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:e.jsx("span",{className:"inline-flex items-center gap-2",children:e.jsx("button",{className:"text-blue-500",title:"View",onClick:()=>I(a==null?void 0:a._id),children:e.jsx("i",{className:"uil uil-eye text-xl  "})})})})]},f)})})]}),e.jsx(V,{totalPages:w,currentPage:i,setCurrentPage:v})]})})]})})}export{oe as default};
