import{u as A,r as l,k as S,j as e,A as k}from"./index-B-9Gm_Me.js";import{B}from"./BackBtn-uUxpUHCb.js";import{H as E}from"./Heading-CR7EINQw.js";import{P as j}from"./plus-icon-Cm0htiCt.js";import{u as I}from"./useQuery-CC_glNBa.js";import{f as a}from"./formatAmount-CWLewUcu.js";import{L as O}from"./useWindowSize-qltt3n4q.js";import{D as q}from"./DisplayError-C9QH4sGL.js";import{I as H}from"./ItemNotFound-DC3tQxqN.js";import"./LoadingBtn-BzFN3F6Y.js";import"./ClipLoader-BG20_dJY.js";function _(){const{id:t}=A(),i=["fetch-teamDetail",{id:t}],[r,n]=l.useState([]),[s,g]=l.useState([]),[u,f]=l.useState(""),[T,y]=l.useState(""),[N,w]=l.useState(""),[v,M]=l.useState(""),{isLoading:F,data:c,isError:L,error:x}=I({queryKey:i,queryFn:()=>k.get(`/team?userObjectId=${t}`)});return l.useEffect(()=>{if(c){const{data:{data:{docsCount:m,stats:D,docs:d}}}=c;if((d==null?void 0:d.length)>0){let o=0,h=0,b=0;d==null||d.filter(p=>{p.level===1&&o++,p.level===2&&h++,p.level===3&&b++}),y(o),w(h),M(b)}n(d),g(D),f(m)}if(x){const{response:{data:{message:m}}}=x;S.error(m)}},[c,x]),e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{title:"My Team Portfolio"}),e.jsx(B,{})]}),e.jsx("div",{className:"mt-10 flex flex-col gap-5",children:F?e.jsx(O,{}):L?e.jsx(q,{message:"An error occured while fetching data."}):(r==null?void 0:r.length)===0?e.jsx(H,{message:"No data found"}):e.jsxs(e.Fragment,{children:[e.jsx(C,{members:u,level1TeamMembers:T,level2TeamMembers:N,level3TeamMembers:v}),e.jsx(K,{totalPortfolio:s==null?void 0:s.teamTotalTradeDeposits,level1Portfolio:s==null?void 0:s.levelOneMembersTradeDeposits,level2Portfolio:s==null?void 0:s.levelTwoMembersTradeDeposits,level3Portfolio:s==null?void 0:s.levelThreeMembersTradeDeposits,icon:j}),e.jsx(Q,{totalPortfolio:s==null?void 0:s.teamTotalAutoTradeDeposits,level1Portfolio:s==null?void 0:s.levelOneMembersAutoTradeDeposits,level2Portfolio:s==null?void 0:s.levelTwoMembersAutoTradeDeposits,level3Portfolio:s==null?void 0:s.levelThreeMembersAutoTradeDeposits,icon:j})]})})]})})}const C=({members:t,level1TeamMembers:i,level2TeamMembers:r,level3TeamMembers:n})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-dark rounded-lg border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5 border-b border-b-gray-700",children:[e.jsx("p",{className:"text-blue-500 text-lg font-bold",children:"Total Team Members"}),e.jsx("p",{className:"font-bold text-lg",children:a(t)})]}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5 border-b border-b-gray-700",children:[e.jsx("p",{children:"Level 1 Team Members"}),e.jsx("p",{children:a(i)})]}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5 border-b border-b-gray-700",children:[e.jsx("p",{children:"Level 2 Team Members"}),e.jsx("p",{children:a(r)})]}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5",children:[e.jsx("p",{children:"Level 3 Team Members"}),e.jsx("p",{children:a(n)})]})]})}),K=({totalPortfolio:t,level1Portfolio:i,level2Portfolio:r,level3Portfolio:n,icon:s})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-dark rounded-lg border  border-gray-700",children:[e.jsx("p",{className:"font-bold text-center text-yellow-500 text-lg p-5 border-b border-b-gray-700",children:"Team Trade Account Portfolio"}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5 border-b border-b-gray-700",children:[e.jsx("p",{className:"text-blue-500 text-lg font-bold",children:"Total Portfolio"}),e.jsxs("p",{className:"font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:e.jsx("img",{src:s,alt:"plus icon",width:"16px",height:"16px"})}),e.jsx("span",{children:a(t==null?void 0:t.toFixed(2))})]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5 border-b border-b-gray-700",children:[e.jsx("p",{children:"Level 1 Portfolio"}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{children:e.jsx("img",{src:s,alt:"plus icon",width:"16px",height:"16px"})}),e.jsx("span",{children:a(i==null?void 0:i.toFixed(2))})]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5 border-b border-b-gray-700",children:[e.jsx("p",{children:"Level 2 Portfolio"}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{children:e.jsx("img",{src:s,alt:"plus icon",width:"16px",height:"16px"})}),e.jsx("span",{children:a(r==null?void 0:r.toFixed(2))})]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5",children:[e.jsx("p",{children:"Level 3 Portfolio"}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{children:e.jsx("img",{src:s,alt:"plus icon",width:"16px",height:"16px"})}),e.jsx("span",{children:a(n==null?void 0:n.toFixed(2))})]})]})]})}),Q=({totalPortfolio:t,level1Portfolio:i,level2Portfolio:r,level3Portfolio:n,icon:s})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-dark rounded-lg border border-gray-700",children:[e.jsx("p",{className:"font-bold text-center text-yellow-500 text-lg p-5 border-b border-b-gray-700",children:"Team Auto Trade Account Portfolio"}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5 border-b border-b-gray-700",children:[e.jsx("p",{className:"text-blue-500 text-lg font-bold",children:"Total Portfolio"}),e.jsxs("p",{className:"font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:e.jsx("img",{src:s,alt:"plus icon",width:"16px",height:"16px"})}),e.jsx("span",{children:a(t==null?void 0:t.toFixed(2))})]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5 border-b border-b-gray-700",children:[e.jsx("p",{children:"Level 1 Portfolio"}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{children:e.jsx("img",{src:s,alt:"plus icon",width:"16px",height:"16px"})}),e.jsx("span",{children:a(i==null?void 0:i.toFixed(2))})]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5 border-b border-b-gray-700",children:[e.jsx("p",{children:"Level 2 Portfolio"}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{children:e.jsx("img",{src:s,alt:"plus icon",width:"16px",height:"16px"})}),e.jsx("span",{children:a(r==null?void 0:r.toFixed(2))})]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-5 p-5",children:[e.jsx("p",{children:"Level 3 Portfolio"}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{children:e.jsx("img",{src:s,alt:"plus icon",width:"16px",height:"16px"})}),e.jsx("span",{children:a(n==null?void 0:n.toFixed(2))})]})]})]})});export{_ as default};
