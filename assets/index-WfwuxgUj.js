import{r as a,k as j,H as w,b as $,j as s,A as T}from"./index-Dgq3PrwZ.js";import{B as V}from"./BackBtn-BTtbY5T6.js";import{H as Z}from"./Heading-BleAqs7B.js";import{h as i}from"./moment-C5S46NFB.js";import{T as q,a as Q,b as S,c,d as R,e as l}from"./Tr-92nl9wdn.js";import{P as z}from"./index-k2bY_Rk7.js";import{c as K}from"./confirmBox-CwIKJADo.js";import{f as O}from"./formatAmount-CWLewUcu.js";import{u as U}from"./useQuery-DVR9z6m7.js";import{L as W}from"./useWindowSize-IxhlW9ZK.js";import{D as G}from"./DisplayError-DbAkVp0H.js";import{I as J}from"./ItemNotFound-jt-aLSPW.js";import"./index-Chjiymov.js";import"./LoadingBtn-ean50z1k.js";import"./ClipLoader-DZl_46q6.js";function fe(){const[n,k]=a.useState([]),[x,A]=a.useState(1),[C,F]=a.useState(1),y=10,[r,b]=a.useState(""),[o,B]=a.useState(""),[p,E]=a.useState(""),[u,m]=a.useState(""),[N,v]=a.useState(!1),P=["fetch-salaryLevel",{currentPage:x,limit:y,backendFromDate:p,backendToDate:u,docDeleted:N}],{isLoading:I,data:f,isError:M,error:h}=U({queryKey:P,queryFn:()=>{const e=new URLSearchParams;return e.append("page",x),e.append("pageSize",y),e.append("sortBy","createdAt_ascending"),p&&e.append("from",p),u&&e.append("to",u),T.get(`/salary-level?${e.toString()}`)}});a.useEffect(()=>{if(f){const{data:{data:{docs:e,pages:d}}}=f;k(e),F(d),v(!1)}h&&j.error(w(h))},[f,h,N]);const g=$();a.useState(""),a.useEffect(()=>{if(r&&o){if(i(o).isSame(r)||i(o).isBefore(r))return m("2025-01-11T23:59:59.999Z");if(i(r).isAfter(o))return b("2025-01-11T23:59:59.999Z");E(r),m(o)}},[r,o]);const Y=()=>{g("/app/salary-category/add")},L=e=>{g(`/app/salary-category/details/${e}`)},H=e=>{g(`/app/salary-category/edit/${e}`)},_=e=>{K({message:"Are you sure? You want to delete this document?",onYesClick:async()=>{var D;try{const{data:t}=await T.delete(`/salary-level/${e}`);t!=null&&t.success&&(v(!0),j.success((D=t==null?void 0:t.data)==null?void 0:D.message))}catch(t){j.error(w(t))}}})};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Z,{title:"Salary Category"}),s.jsx(V,{})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:Y,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400",children:"Add"})}),s.jsxs("div",{className:"flex justify-between max-[400px]:flex-col gap-5",children:[s.jsxs("div",{className:"form-row",children:[s.jsx("label",{htmlFor:"fromDate",children:"From Date"}),s.jsx("input",{type:"date",id:"fromDate",placeholder:"Select Date",onChange:e=>{b(e.target.value)},value:r})]}),s.jsxs("div",{className:"form-row",children:[s.jsx("label",{htmlFor:"toDate",children:"To Date"}),s.jsx("input",{type:"date",id:"toDate",placeholder:"Select Date",onChange:e=>{B(e.target.value)},value:o})]})]}),I?s.jsx(W,{}):M?s.jsx(G,{}):(n==null?void 0:n.length)===0?s.jsx(J,{}):s.jsx("div",{className:"bg-secondary rounded-lg p-2 overflow-x-auto",children:s.jsxs("div",{className:"bg-dark  p-2 rounded-lg overflow-container  custom-scrollbar",children:[s.jsxs(q,{className:"sm:text-base text-sm table-auto  ",children:[s.jsx(Q,{className:"bg-secondary text-left rounded-lg",children:s.jsxs(S,{children:[s.jsx(c,{scope:"col",className:" font-medium px-6 py-4 text-center",children:"Sr"}),s.jsx(c,{scope:"col",className:" font-medium px-6 py-4 text-center",children:"Title"}),s.jsx(c,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Qualification Active Member Target"}),s.jsx(c,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Active Volume"}),s.jsx(c,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Date & Time"}),s.jsx(c,{scope:"col",className:"font-medium px-6 py-4 text-center",children:"Action"})]})}),s.jsx(R,{children:n==null?void 0:n.map((e,d)=>s.jsxs(S,{className:"text-grayText sm:hover:bg-stroke hover:text-pure border-b border-b-gray-700",children:[s.jsx(l,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:(e==null?void 0:e.longAutoIncrementId)||(e==null?void 0:e.autoIncrementId)}),s.jsx(l,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:(e==null?void 0:e.title)||"abc"}),s.jsx(l,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:e==null?void 0:e.downLineActiveMembersTarget}),s.jsx(l,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:O(parseInt((e==null?void 0:e.runningStakeOrdersCoinsTarget)||0).toFixed())}),s.jsx(l,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:i((e==null?void 0:e.createdAt)||"2025-01-01").format("D, MMMM YYYY, hh:mm A")}),s.jsx(l,{className:"px-6 py-4 whitespace-nowrap sm:text-center ",children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("button",{className:"text-blue-500",title:"View",onClick:()=>L(e==null?void 0:e._id),children:s.jsx("i",{className:"uil uil-eye text-xl  "})}),s.jsx("button",{className:"text-green-500",title:"Edit",onClick:()=>H(e==null?void 0:e._id),children:s.jsx("i",{className:"uil uil-pen text-xl  "})}),s.jsx("button",{className:"text-red-500",title:"Delete",onClick:()=>_(e==null?void 0:e._id),children:s.jsx("i",{className:"uil uil-trash text-xl  "})})]})})]},d))})]}),s.jsx(z,{totalPages:C,currentPage:x,setCurrentPage:A})]})})]})})}export{fe as default};
