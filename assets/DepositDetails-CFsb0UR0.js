import{r as t,u as S,j as e,I as A,A as C}from"./index-Dgq3PrwZ.js";import{D as I,U as k}from"./UpdateDepositForm-kAy9i9-M.js";import{B}from"./BackBtn-BTtbY5T6.js";import{H as F}from"./Heading-BleAqs7B.js";import{I as L}from"./ItemNotFound-jt-aLSPW.js";import{L as U}from"./useWindowSize-IxhlW9ZK.js";import{u as w}from"./useQuery-DVR9z6m7.js";import{D as K}from"./DisplayError-DbAkVp0H.js";import"./moment-C5S46NFB.js";import"./Status-shZdHOu8.js";import"./formatAmount-CWLewUcu.js";import"./plus-icon-Cm0htiCt.js";import"./index.esm-D8Mb4-8M.js";import"./FormControl-DGPwoX9g.js";import"./Input-DLTszUu7.js";import"./formik.esm-C3G25gt-.js";import"./react-tooltip.min-Cay2iBks.js";import"./index-LvzHWtTh.js";import"./index-Chjiymov.js";import"./deposits.constants-BksPp1tF.js";import"./ClipLoader-DZl_46q6.js";import"./LoadingBtn-ean50z1k.js";const ae=()=>{var d;const[s,p]=t.useState([]),[f,u]=t.useState(""),[x,j]=t.useState(""),[g,h]=t.useState(""),[v,c]=t.useState(""),[D,y]=t.useState("Error"),{id:n}=S(),N=["fetch-depositDetailsById",{id:n}],{isLoading:R,data:r,isError:b,error:o}=w({queryKey:N,queryFn:()=>C.get(`/deposit/${n}`)});return t.useEffect(()=>{if(r){const{data:{data:{doc:i},data:{doc:{orderId:{verificationMethod:m,currencyCode:a,amountPKR:E,amountUSD:M},coins:l}}}}=r;p(i),m&&u(m),l&&j(l),a&&h(a),c(a==="PKR"?E*.01:M*.01)}if(o){const{response:{data:{message:i}}}=o;y(i)}},[r,o]),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(F,{title:"Auto Deposit Details"}),e.jsx(B,{})]}),R?e.jsx(U,{}):b?e.jsx(K,{message:o?D:"An error occured while fetching data"}):((d=Object.keys(s))==null?void 0:d.length)===0?e.jsx(L,{message:"Deposit details not found."}):e.jsxs("div",{className:"flex lg:gap-6 gap-4 lg:flex-row flex-col mt-6",children:[e.jsxs("div",{className:`${(s==null?void 0:s.status)==="Approved"?"lg:flex-[1]":"flex-[0.7]"} bg-dark rounded-lg`,children:[e.jsx(I,{doc:s}),e.jsxs("div",{className:"p-4",children:[e.jsx("label",{className:"label",children:"Receipt"}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("div",{children:s!=null&&s.proof?e.jsx("img",{src:A+"/"+(s==null?void 0:s.proof),alt:"Deposit Receipt"}):e.jsx("p",{children:"No Receipt Found"})})})]})]}),f==="Manual"&&e.jsx("div",{className:"flex-[0.3] h-fit bg-dark p-4 rounded-lg flex flex-col gap-4",children:e.jsx(k,{currencyCode:g,coins:x,amountReceived:v})})]})]})};export{ae as default};
