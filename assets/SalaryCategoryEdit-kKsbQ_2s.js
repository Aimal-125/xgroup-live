import{u as I,r as s,b as C,k as d,H as f,j as e,A as g}from"./index-B7EDHShO.js";import{F as L,a as k,b as t,E as l}from"./formik.esm-DEzKEWAH.js";import{B as R}from"./BackBtn-CSTzC4ci.js";import{H as $}from"./Heading-DW26iUKW.js";import{c as B,a as V,e as n}from"./index.esm-DElqZkcs.js";import{u as H}from"./useQuery-BH2ipur7.js";function G(){const{id:i}=I(),[y,p]=s.useState(""),[v,h]=s.useState(""),[j,S]=s.useState(""),[N,F]=s.useState(""),[T,O]=s.useState(""),[m,u]=s.useState(!1),M=C(),{data:o,error:c}=H({queryKey:["fetch-salaryLevelById",{id:i,updated:m}],queryFn:()=>g.get(`/salary-level/${i}`)});s.useEffect(()=>{if(o){const{data:{data:{doc:r}}}=o;p(r==null?void 0:r.title),h(r==null?void 0:r.downLineActiveMembersTarget),S(r==null?void 0:r.runningStakeOrdersCoinsTarget),F(r==null?void 0:r.receiveFullSalaryOnIncrease),O(r==null?void 0:r.salary),u(!1)}c&&d.error(f(c))},[o,c,m]);const w=B().shape({title:V().required("Title is required"),downLineActiveMembersTarget:n().typeError("Must be a number").required("Required"),runningStakeOrdersCoinsTarget:n().typeError("Must be a number").required("Required"),receiveFullSalaryOnIncrease:n().typeError("Must be a number").required("Required"),salary:n().typeError("Must be a number").required("Required")}),q={title:y||"",downLineActiveMembersTarget:v||"",runningStakeOrdersCoinsTarget:j||"",receiveFullSalaryOnIncrease:N||"",salary:T||""},E=async(r,{setSubmitting:x,resetForm:A})=>{var b;x(!0);try{const{data:a}=await g.patch(`/salary-level/${i}`,r);a!=null&&a.success&&(u(!0),d.success((b=a==null?void 0:a.data)==null?void 0:b.message),M("/app/salary-category"))}catch(a){d.error(f(a))}finally{x(!1),A()}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($,{title:"Salary Category Edit"}),e.jsx(R,{})]}),e.jsx("div",{className:"",children:e.jsx(L,{initialValues:q,validationSchema:w,onSubmit:E,enableReinitialize:!0,children:r=>e.jsxs(k,{className:"flex flex-col gap-3 bg-dark p-5 rounded-md",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"font-bold",htmlFor:"title",children:"Title"}),e.jsx(t,{className:"bg-inherit px-4 py-2 border border-gray-700 rounded outline-none focus:border-blue-500",name:"title",id:"title",form:r}),e.jsx(l,{name:"title",component:"div",className:"text-sm text-red-500"})]}),e.jsxs("div",{className:"flex gap-3 max-[600px]:flex-col",children:[e.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[e.jsx("label",{className:"font-bold",htmlFor:"downLineActiveMembersTarget",children:"Qualification Active Member Target"}),e.jsx(t,{className:"bg-inherit px-4 py-2 border border-gray-700 rounded outline-none focus:border-blue-500",name:"downLineActiveMembersTarget",id:"downLineActiveMembersTarget",form:r}),e.jsx(l,{name:"downLineActiveMembersTarget",component:"div",className:"text-sm text-red-500"})]}),e.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[e.jsx("label",{className:"font-bold",htmlFor:"runningStakeOrdersCoinsTarget",children:"Active Volume"}),e.jsx(t,{className:"bg-inherit px-4 py-2 border border-gray-700 rounded outline-none focus:border-blue-500",name:"runningStakeOrdersCoinsTarget",id:"runningStakeOrdersCoinsTarget",form:r}),e.jsx(l,{name:"runningStakeOrdersCoinsTarget",component:"div",className:"text-sm text-red-500"})]})]}),e.jsxs("div",{className:"flex gap-3 max-[600px]:flex-col",children:[e.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[e.jsx("label",{className:"font-bold",htmlFor:"receiveFullSalaryOnIncrease",children:"Receive Full Salary on Increase of targets (%)"}),e.jsx(t,{className:"bg-inherit px-4 py-2 border border-gray-700 rounded outline-none focus:border-blue-500",name:"receiveFullSalaryOnIncrease",id:"receiveFullSalaryOnIncrease",form:r}),e.jsx(l,{name:"receiveFullSalaryOnIncrease",component:"div",className:"text-sm text-red-500"})]}),e.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[e.jsx("label",{className:"font-bold",htmlFor:"salary",children:"Salary (coins)"}),e.jsx(t,{className:"bg-inherit px-4 py-2 border border-gray-700 rounded outline-none focus:border-blue-500",name:"salary",id:"salary",form:r}),e.jsx(l,{name:"salary",component:"div",className:"text-sm text-red-500"})]})]}),e.jsx("div",{className:"mt-2 w-fit",children:e.jsx("button",{type:"submit",className:"btn-primary px-4 py-2",disabled:r.isSubmitting,children:"Submit"})})]})})})]})})}export{G as default};
