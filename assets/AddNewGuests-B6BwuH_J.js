import{r as y,j as e,A as g,k as c}from"./index-B-9Gm_Me.js";import{F as N,a as h,E as j}from"./formik.esm-BbQy4037.js";import{I as f}from"./Input-Be9myPu5.js";import{c as C,a as S,e as v}from"./index.esm-Bg4kD9Su.js";import{g as w,S as F}from"./index-BEmnNwMs.js";import{B as M}from"./BackBtn-uUxpUHCb.js";import{H as A}from"./Heading-CR7EINQw.js";import"./react-tooltip.min-BA7Ht3Ge.js";import"./index-LvzHWtTh.js";const E=C({countryName:S().required("Country is required"),membersCount:v().required("Members are required").integer("Members must be an integer").min(1,"Members must be greater than 1").max(2,"Members cannot exceed 2")});function q(){const[a,i]=y.useState("PAK"),l=new Intl.DisplayNames(["en"],{type:"region"}).of(w(a)),u={countryName:"",membersCount:""},d=async(s,{setSubmitting:t,resetForm:p})=>{var n,o,m;const b={...s,countryCode:a,countryName:l};try{const{data:r}=await g.post("/guest",b);r!=null&&r.success&&c.success((n=r==null?void 0:r.data)==null?void 0:n.message)}catch(r){c.error((m=(o=r==null?void 0:r.response)==null?void 0:o.data)==null?void 0:m.message),console.error("Form submission error:",r)}finally{t(!1),p()}},x=s=>{i(s.target.value)};return e.jsx("div",{className:"bg-dark p-4 rounded-lg mt-6 pb-6 ",children:e.jsx(N,{initialValues:u,onSubmit:d,validationSchema:E,children:s=>e.jsxs(h,{className:"bg-dark rounded-lg p-4 flex flex-col gap-4  pb-6",children:[e.jsxs("div",{className:"w-full flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"countryName",className:"text-inherit font-bold",children:"Select Country"}),e.jsx(F,{className:`${s.errors.countryName&&s.touched.countryName?"border-red-500":""} w-full border border-gray-700 rounded-md bg-inherit px-[14px] py-[11px]`,value:a,onChange:t=>{s.handleChange(t),x(t)},name:"countryName",id:"countryName",form:s}),e.jsx(j,{name:"countryName",component:"div",className:"text-sm text-red-500"})]}),e.jsx(f,{label:"Members",hint:"Enter Country Members",name:"membersCount",formik:s,errors:s.errors,touched:s.touched}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"submit",className:"btn-primary py-2 px-12",disabled:s.isSubmitting,children:"Save"})})]})})})}const R=()=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A,{title:"Add New Guests"}),e.jsx(M,{})]}),e.jsx(q,{})]});export{R as default};
