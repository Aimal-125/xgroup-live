import{b as F,c as P,r as s,a as E,j as a,A as R}from"./index-B-9Gm_Me.js";import{H as V}from"./Heading-CR7EINQw.js";import{B as A}from"./BackBtn-uUxpUHCb.js";import{F as l,S as U,U as I}from"./FormControl-CIKMnFb0.js";import{g as D,S as _}from"./index-BEmnNwMs.js";import{F as B,a as M,b as O,E as i}from"./formik.esm-BbQy4037.js";import{I as $}from"./informationValidations-CbtxmjtR.js";import{c as H}from"./adminUsersAction-CUaoo9Pd.js";import"./useWindowSize-qltt3n4q.js";import"./DisplayError-C9QH4sGL.js";import"./Input-Be9myPu5.js";import"./react-tooltip.min-BA7Ht3Ge.js";import"./index-LvzHWtTh.js";import"./index-Chjiymov.js";import"./index.esm-Bg4kD9Su.js";import"./index-CCBZLt8G.js";import"./LoadingBtn-BzFN3F6Y.js";import"./ClipLoader-BG20_dJY.js";const k=()=>{const u=F(),{formSubmitting:x}=P(e=>e==null?void 0:e.adminUsers),[d,m]=s.useState(""),[t,h]=s.useState(""),[n,f]=s.useState("PAK"),b=new Intl.DisplayNames(["en"],{type:"region"}).of(D(n)),[g,N]=s.useState([]),w=E(),j=e=>{f(e.target.value)},y={fullName:"",username:"",email:"",password:"",confirmPassword:"",roles:[],countryName:""},v=async e=>{if(!t)return m("Required");const o={...e,countryCode:n,countryName:b,phone:t};w(H(o,u))};s.useEffect(()=>{(async()=>{try{const{data:o}=await R.get("/user/role");if(o&&o.data&&o.data.roles){const c=o.data.roles.filter(r=>r.name!=="user").map(r=>({value:r.name,label:r.name.charAt(0).toUpperCase()+r.name.slice(1).replace("_"," ")}));N(c)}else console.error("Invalid data structure from API")}catch(o){console.error("Error fetching roles:",o)}})()},[]);const C=(e,o)=>{const p=e?e.map(c=>c.value):[];o.setFieldValue("roles",p)},S={control:(e,o)=>({...e,border:"1px solid #4a5568",backgroundColor:"inherit",color:"white","&:hover":{border:"1px solid #4a5568"},boxShadow:o.isFocused?"0 0 0 1px #4a5568":null,borderRadius:"0.375rem"}),singleValue:e=>({...e,color:"white"}),multiValue:e=>({...e,backgroundColor:"#2d3748",color:"white"}),multiValueLabel:e=>({...e,color:"white"}),multiValueRemove:e=>({...e,color:"white","&:hover":{backgroundColor:"#4a5568",color:"white"}}),menu:e=>({...e,backgroundColor:"#1a202c",color:"white",border:"1px solid #4a5568"}),option:(e,o)=>({...e,backgroundColor:o.isFocused?"#2d3748":"#1a202c",color:"white","&:active":{backgroundColor:"#4a5568"}}),placeholder:e=>({...e,color:"gray"}),input:e=>({...e,color:"white",padding:"7px"})};return a.jsx("div",{className:"bg-dark p-4 rounded-lg mt-6 pb-6",children:a.jsx(B,{initialValues:y,validationSchema:$,onSubmit:v,enableReinitialize:!0,children:e=>a.jsxs(M,{className:"bg-dark rounded-lg p-4 flex flex-col gap-4 mt-6 pb-6",children:[a.jsxs("div",{className:"flex flex-row max-[600px]:flex-col max-[600px]:gap-4 gap-2",children:[a.jsx(l,{control:"input",label:"Full Name",placeholder:"Enter Full Name",name:"fullName",formik:e}),a.jsx(l,{control:"input",label:"User Name",placeholder:"Enter Username",name:"username",formik:e})]}),a.jsxs("div",{className:"flex flex-row max-[600px]:flex-col max-[600px]:gap-4 gap-2",children:[a.jsx(l,{control:"input",label:"Email",placeholder:"Enter Your Email",name:"email",formik:e}),a.jsx(l,{control:"password",label:"Password",placeholder:"Enter Password",name:"password",id:"password",formik:e})]}),a.jsxs("div",{className:"flex flex-row max-[600px]:flex-col max-[600px]:gap-4 gap-2",children:[a.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[a.jsx("label",{className:"text-inherit font-bold bg-gr",htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx(O,{className:`${e.errors.confirmPassword&&e.touched.confirmPassword?"border-red-500":""} p-[11px] bg-dark rounded-md border border-gray-700 outline-none`,type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm Password"}),a.jsx(i,{name:"confirmPassword",component:"div",className:"text-sm text-red-500"})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[a.jsx("label",{htmlFor:"roles",className:"text-inherit font-bold",children:"Select Role"}),a.jsx(U,{styles:S,name:"roles",form:e,options:g,onChange:o=>C(o,e),isMulti:!0}),a.jsx(i,{component:"div",name:"roles",className:"text-sm text-red-500"})]})]}),a.jsxs("div",{className:"flex justify-between gap-2 max-[600px]:flex-col max-[600px]:gap-4",children:[a.jsxs("div",{className:"w-full flex flex-col gap-2 overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"text-inherit font-bold",children:"Phone"}),a.jsx(I,{className:"phone-input",defaultCountry:"pk",value:t,id:"phone",name:"phone",onChange:o=>{m(""),h(o)}}),d&&a.jsx("p",{className:"text-red-600",children:d})]}),a.jsxs("div",{className:"w-full flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"countryName",className:"text-inherit font-bold",children:"Select Country"}),a.jsx(_,{className:`${e.errors.countryName&&e.touched.countryName?"border-red-500":""} w-full border border-gray-700 rounded-md bg-inherit px-[14px] py-[11px]`,value:n,onChange:o=>{e.handleChange(o),j(o)},name:"countryName",id:"countryName",form:e}),a.jsx(i,{name:"countryName",component:"div",className:"text-sm text-red-500"})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{type:"submit",className:"btn-primary py-2 px-12",disabled:x,children:"Submit"})})]})})})},ne=()=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(V,{title:"Create New Employee"}),a.jsx(A,{})]}),a.jsx(k,{})]});export{ne as default};
