import{c as U,a as B,r as n,d as A,j as e,A as P,k as S,J as E,K as L,t as z}from"./index-DXC4WxTY.js";import{M as c}from"./react-tooltip.min-DX0qBXNw.js";import{H as D}from"./Heading-BW07qGLk.js";import{B as H}from"./BackBtn-CAoFsR9d.js";import{L as O}from"./LoadingBtn-BPpN-Rmz.js";import"./index-LvzHWtTh.js";import"./ClipLoader-BeN6fJ0f.js";const $=()=>{var x,p,u,f,h,j;const{user:s}=U(a=>a.auth),{token:d}=s,b={headers:{Authorization:`Bearer ${d}`}},y=B(),t=n.useRef(null),[r,N]=n.useState(s!=null&&s.image?A+"/"+(s==null?void 0:s.image):""),[v,m]=n.useState(null),[k,o]=n.useState(!1),C=a=>{const l=a.target.files[0];m(l);const i=new FileReader;l&&(i.onloadend=()=>{N(i.result)},i.readAsDataURL(l))},w=async()=>{o(!0);const a={imageDataURI:r};try{const{data:{data:{message:l,doc:i}}}=await P.patch("/user/update-my-profile-image",a,b);S.success(l);const g={...i,token:d};y(E(g)),L(g),m(null),o(!1)}catch(l){o(!1),z(l)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(D,{title:"Profile"}),e.jsx(H,{})]}),e.jsx("div",{className:"bg-dark p-4 rounded-lg mt-6",children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsxs("div",{className:"relative w-[140px] h-[140px] rounded-full border-2 border-primary flex items-center justify-center bg-primary text-2xl font-semibold group",children:[e.jsx("input",{type:"file",accept:"image/*",hidden:!0,ref:t,onChange:C}),r?e.jsx("img",{src:r,alt:"",className:"w-full h-full rounded-full object-cover"}):e.jsxs("span",{children:[(u=(p=(x=s==null?void 0:s.username)==null?void 0:x.split(" ")[0])==null?void 0:p.charAt(0))==null?void 0:u.toUpperCase(),((j=(h=(f=s==null?void 0:s.username)==null?void 0:f.split(" ")[1])==null?void 0:h.charAt(0))==null?void 0:j.toUpperCase())||""]}),e.jsx("div",{className:"w-full h-full absolute top-0 left-0 bg-black bg-opacity-80 rounded-full hidden group-hover:flex items-center justify-center text-sm cursor-pointer",onClick:()=>{var a;return(a=t==null?void 0:t.current)==null?void 0:a.click()},children:r?"Change Profile":"Upload Profile"}),e.jsx("div",{className:"absolute bottom-0 right-4 text-2xl text-gray-200 cursor-pointer",onClick:()=>{var a;return(a=t==null?void 0:t.current)==null?void 0:a.click()},children:e.jsx("i",{className:"uil uil-camera-plus"})})]})}),e.jsxs("div",{className:"mt-10 flex flex-col gap-4",children:[e.jsxs("div",{className:"flex md:flex-row flex-col gap-4",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Username"}),e.jsxs("span",{"data-tooltip-id":"edit-username","data-tooltip-content":"Username Cannot Be Changed",children:[e.jsx("i",{className:"uil uil-info-circle"}),e.jsx(c,{id:"edit-username",style:{fontSize:15,background:"var(--primary)"}})]})]}),e.jsx("input",{type:"text",value:s==null?void 0:s.username,readOnly:!0,disabled:!0})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Email"}),e.jsxs("span",{"data-tooltip-id":"edit-email","data-tooltip-content":"Email Cannot Be Changed",children:[e.jsx("i",{className:"uil uil-info-circle"}),e.jsx(c,{id:"edit-email",style:{fontSize:15,background:"var(--primary)"}})]})]}),e.jsx("input",{type:"text",value:s==null?void 0:s.email,readOnly:!0,disabled:!0})]})]}),e.jsx("div",{className:"flex md:flex-row flex-col gap-4",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Phone Number"}),e.jsxs("span",{"data-tooltip-id":"edit-phone","data-tooltip-content":"Phone Number Cannot Be Changed",children:[e.jsx("i",{className:"uil uil-info-circle"}),e.jsx(c,{id:"edit-phone",style:{fontSize:15,background:"var(--primary)"}})]})]}),e.jsx("input",{type:"text",value:s==null?void 0:s.phone,readOnly:!0,disabled:!0})]})}),e.jsx("div",{className:"mt-4 flex items-end justify-end",children:e.jsx("button",{className:"btn-primary py-2 px-6",disabled:!v,onClick:w,children:k?e.jsx(O,{}):"UPDATE"})})]})]})})]})};export{$ as default};
