import{u as M,r as y,A as P,j as s,L as Y}from"./index-Dgq3PrwZ.js";import{S as E}from"./Status-shZdHOu8.js";import{P as A}from"./plus-icon-Cm0htiCt.js";import{u as L}from"./useQuery-DVR9z6m7.js";import{D as S}from"./DisplayError-DbAkVp0H.js";import{I as B}from"./ItemNotFound-jt-aLSPW.js";import{L as F}from"./useWindowSize-IxhlW9ZK.js";import{h as I}from"./moment-C5S46NFB.js";import{B as C}from"./BackBtn-BTtbY5T6.js";import{H as q}from"./Heading-BleAqs7B.js";import"./LoadingBtn-ean50z1k.js";import"./ClipLoader-DZl_46q6.js";const a=({label:r,value:e,to:t,status:n})=>s.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-b-gray-700 last-of-type:border-none p-4",children:[s.jsx("h6",{children:r}),t?s.jsx(Y,{to:t,className:"text-grayText underline",children:e}):s.jsx("p",{className:"text-grayText",children:e}),n||""]}),D=({label:r,icon:e,value:t})=>s.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-b-gray-700 p-4",children:[s.jsx("h6",{children:r}),s.jsxs("p",{className:"text-grayText flex items-center gap-2 ",children:[s.jsx("img",{src:e,alt:"plus icon"}),s.jsx("span",{children:t})]})]}),H=()=>{var i,m,x,o,j,u,g,p,f,d,c,b,h,v,N;const{id:r}=M(),[e,t]=y.useState([]),n=["fetch-tradeDetails",{id:r}],{isLoading:k,data:l,isError:w}=L({queryKey:n,queryFn:()=>P.get(`/trade/${r}`)});return y.useEffect(()=>{if(l){const{data:{data:{doc:T}}}=l;t(T)}},[l]),s.jsx(s.Fragment,{children:k?s.jsx(F,{}):w?s.jsx("div",{className:"px-4 pb-4",children:s.jsx(S,{})}):((i=Object.keys(e))==null?void 0:i.length)===0?s.jsx("div",{className:"px-4 pb-4",children:s.jsx(B,{})}):s.jsxs("div",{children:[s.jsx(a,{label:"Sr",value:(e==null?void 0:e.longAutoIncrementId)||"N/A"}),s.jsx(a,{label:"Order ID",value:((m=e==null?void 0:e.game)==null?void 0:m.autoIncrementId)||"N/A"}),s.jsx(D,{label:"Invested Coins",icon:A,value:(e==null?void 0:e.coins)||"N/A"}),s.jsx(D,{label:"Total Profit Coins",icon:A,value:(x=e==null?void 0:e.profitPlusInvested)==null?void 0:x.toFixed()}),s.jsx(a,{label:"Invested in",value:((o=e==null?void 0:e.bank)==null?void 0:o.replace("_"," "))||"N/A"}),s.jsx(a,{label:"Profit Percentage",value:((j=e==null?void 0:e.game)==null?void 0:j.randomlySelectedBankPercentage)||"N/A"}),s.jsx(a,{label:"Start Date",value:(u=e==null?void 0:e.game)!=null&&u.createdAt?I((g=e==null?void 0:e.game)==null?void 0:g.createdAt).format("D, MMMM YYYY, hh:mm A"):"N/A"}),s.jsx(a,{label:"End Date",value:(p=e==null?void 0:e.game)!=null&&p.gameEnded?I((f=e==null?void 0:e.game)==null?void 0:f.endDateTime).format("D, MMMM YYYY, hh:mm A"):"N/A"}),s.jsx(a,{label:"Win Bank",value:((c=(d=e==null?void 0:e.game)==null?void 0:d.winner)==null?void 0:c.replace("_"," "))||"N/A"}),s.jsx(a,{label:"Status",status:s.jsx(E,{status:((b=e==null?void 0:e.game)==null?void 0:b.winner)==="Tie"?"Tie":((h=e==null?void 0:e.game)==null?void 0:h.winner)===null?"Game in progress":(e==null?void 0:e.bank)===((v=e==null?void 0:e.game)==null?void 0:v.winner)?"Win":(e==null?void 0:e.bank)!==((N=e==null?void 0:e.game)==null?void 0:N.winner)?"Loss":""})})]})})},X=()=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(q,{title:"Trade Details"}),s.jsx(C,{})]}),s.jsx("div",{className:"flex lg:gap-6 gap-4 lg:flex-row flex-col mt-6",children:s.jsx("div",{className:"lg:flex-[1.0] bg-dark rounded-lg",children:s.jsx(H,{})})})]});export{X as default};
