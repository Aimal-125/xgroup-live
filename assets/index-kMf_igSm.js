import{T as le,j as o,r as f,k as ce,A as me}from"./index-B7EDHShO.js";import{D as xe}from"./dateFormats-DbNBvi53.js";import{f as G}from"./formatAmount-CWLewUcu.js";import{P as x}from"./plus-icon-Cm0htiCt.js";import{m as l}from"./moment-DDlgXcfj.js";import{u as pe}from"./useQuery-BH2ipur7.js";import{L as Te}from"./useWindowSize-DFtMrG7S.js";import{D as de}from"./DisplayError-DJ1Lcd3h.js";import"./LoadingBtn-DmYHjot9.js";import"./ClipLoader-DJNL0iZY.js";const m=({title:e,amount:s,color:u="text-blue-500",icon:n,coinImage:i,reqCount:t})=>{function d(r){return r>=1e9?(r/1e9).toFixed(1).replace(/\.0$/,"")+" B":r>=1e6?(r/1e6).toFixed(1).replace(/\.0$/,"")+" M":r>=1e3?(r/1e3).toFixed(1).replace(/\.0$/,"")+" k":r==null?void 0:r.toString()}return o.jsxs("div",{className:"bg-dark p-4 rounded-lg border border-gray-700 flex items-center justify-center flex-col gap-2",children:[o.jsx("i",{className:`uil uil-${n} text-2xl `}),o.jsxs("div",{className:"text-center",children:[o.jsx("h6",{className:"text-lg font-medium",children:e}),o.jsx("h3",{className:`text-xl font-semibold mt-2 ${u}`,children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[i?o.jsx("span",{children:o.jsx("img",{src:x,width:"16",height:"16"})}):"",o.jsx("span",{children:s<1e3?G(s):d(s)})]})}),t?o.jsxs("h4",{className:"inline-flex items-center gap-1 text-sm font-medium text-gray-400",children:[o.jsx("span",{children:t}),o.jsx("span",{children:t>1?"Requests":"Request"})]}):""]})]})},ye=({data:e})=>{var s,u,n,i,t,d,r,y,c,C,p,h,A,j,Y,F,D,W,v,w,q,M,N,S,$,R,I,T,g,E,L,b,B,P,_,k,U,z,H,K,O,Q,J,V,X,Z,a,ee,oe,se,te,ie,re,ne;return le(),o.jsxs("div",{className:"grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-4",children:[o.jsx(m,{title:"Total Users",amount:(s=e==null?void 0:e.data)==null?void 0:s.totalUsers,icon:"users-alt"})," ",o.jsx(m,{title:"Total Trade Account Deposit",amount:(u=e==null?void 0:e.data)!=null&&u.totalApprovedTradeDepositCoins?(i=(n=e==null?void 0:e.data)==null?void 0:n.totalApprovedTradeDepositCoins)==null?void 0:i.toFixed():0,icon:"usd-circle",coinImage:x}),o.jsx(m,{title:"Total Auto Trade Account Deposit",amount:(t=e==null?void 0:e.data)!=null&&t.totalApprovedAutoTradeDepositCoins?(r=(d=e==null?void 0:e.data)==null?void 0:d.totalApprovedAutoTradeDepositCoins)==null?void 0:r.toFixed():0,icon:"usd-circle",coinImage:x}),o.jsx(m,{title:"Total Trade Withdraw",amount:((c=(y=e==null?void 0:e.data)==null?void 0:y.approvedWithdrawCoinsGroupByWalletType[0])==null?void 0:c._id)==="Trade"?(h=(p=(C=e==null?void 0:e.data)==null?void 0:C.approvedWithdrawCoinsGroupByWalletType[0])==null?void 0:p.totalCoins)==null?void 0:h.toFixed():0,icon:"wallet",coinImage:x}),o.jsx(m,{title:"Total Auto Trade Withdraw",amount:((j=(A=e==null?void 0:e.data)==null?void 0:A.approvedWithdrawCoinsGroupByWalletType[0])==null?void 0:j._id)==="Auto_Trade"?(D=(F=(Y=e==null?void 0:e.data)==null?void 0:Y.approvedWithdrawCoinsGroupByWalletType[0])==null?void 0:F.totalCoins)==null?void 0:D.toFixed():0,icon:"wallet",coinImage:x}),o.jsx(m,{title:"Total StartUp Withdraw",amount:((v=(W=e==null?void 0:e.data)==null?void 0:W.approvedWithdrawCoinsGroupByWalletType[0])==null?void 0:v._id)==="Withdraw"?(M=(q=(w=e==null?void 0:e.data)==null?void 0:w.approvedWithdrawCoinsGroupByWalletType[0])==null?void 0:q.totalCoins)==null?void 0:M.toFixed():0,icon:"wallet",coinImage:x}),o.jsx(m,{title:"Total Residual Withdraw",amount:((S=(N=e==null?void 0:e.data)==null?void 0:N.approvedWithdrawCoinsGroupByWalletType[0])==null?void 0:S._id)==="Residual"?(I=(R=($=e==null?void 0:e.data)==null?void 0:$.approvedWithdrawCoinsGroupByWalletType[0])==null?void 0:R.totalCoins)==null?void 0:I.toFixed():0,icon:"wallet",coinImage:x}),o.jsx(m,{title:"Total Trade",amount:(T=e==null?void 0:e.data)!=null&&T.totalTradesCoins?(E=(g=e==null?void 0:e.data)==null?void 0:g.totalTradesCoins)==null?void 0:E.toFixed():0,icon:"import",reqCount:`${(L=e==null?void 0:e.data)==null?void 0:L.totalTradesCount}`,coinImage:x}),o.jsx(m,{title:"Total Win Trades",amount:(b=e==null?void 0:e.data)!=null&&b.totalWinTradesCoins?(P=(B=e==null?void 0:e.data)==null?void 0:B.totalWinTradesCoins)==null?void 0:P.toFixed():0,icon:"import",reqCount:`${(_=e==null?void 0:e.data)==null?void 0:_.totalWinTradesCount}`,coinImage:x}),o.jsx(m,{title:"Total Loss Trade",amount:(k=e==null?void 0:e.data)!=null&&k.totalLostTradesCoins?(z=(U=e==null?void 0:e.data)==null?void 0:U.totalLostTradesCoins)==null?void 0:z.toFixed():0,icon:"import",reqCount:`${(H=e==null?void 0:e.data)==null?void 0:H.totalLostTradesCount}`,coinImage:x}),o.jsx(m,{title:"Total Auto Trades",amount:(K=e==null?void 0:e.data)!=null&&K.totalAutoTradesCoins?(Q=(O=e==null?void 0:e.data)==null?void 0:O.totalAutoTradesCoins)==null?void 0:Q.toFixed():0,icon:"import",reqCount:`${(J=e==null?void 0:e.data)==null?void 0:J.totalAutoTradesCount}`,coinImage:x}),o.jsx(m,{title:"Total Running Auto Trades",amount:(V=e==null?void 0:e.data)!=null&&V.totalRunningAutoTradesCoins?(Z=(X=e==null?void 0:e.data)==null?void 0:X.totalRunningAutoTradesCoins)==null?void 0:Z.toFixed():0,icon:"import",reqCount:`${(a=e==null?void 0:e.data)==null?void 0:a.totalRunningAutoTradesCount}`,coinImage:x}),o.jsx(m,{title:"Total Ended Auto Trades",amount:(ee=e==null?void 0:e.data)!=null&&ee.totalEndedAutoTradesCoins?(se=(oe=e==null?void 0:e.data)==null?void 0:oe.totalEndedAutoTradesCoins)==null?void 0:se.toFixed():0,icon:"import",reqCount:`${(te=e==null?void 0:e.data)==null?void 0:te.totalEndedAutoTradesCount}`,coinImage:x}),o.jsx(m,{title:"Admin Trades Profits",amount:(ie=e==null?void 0:e.data)!=null&&ie.totalAdminShareCoins?(ne=(re=e==null?void 0:e.data)==null?void 0:re.totalAdminShareCoins)==null?void 0:ne.toFixed():0,icon:"import",coinImage:x})]})},ue=({title:e,amount:s,reqCount:u})=>o.jsxs("div",{className:"bg-dark border border-gray-700 rounded-lg text-center p-4",children:[o.jsx("p",{className:"font-bold text-3xl text-primary",children:G(s)}),o.jsx("h3",{className:"font-semibold mt-2",children:e}),o.jsxs("h6",{className:"text-sm font-semibold mt-2 text-gray-400",children:[G(u)," ",u>1?"Requests":"Request"]})]}),Ce=({data:e,date:s})=>{var r,y,c,C,p,h,A,j,Y,F,D,W,v,w,q,M,N,S,$,R,I,T,g,E,L;const[u,n]=f.useState("Today"),[i,t]=f.useState("");f.useEffect(()=>{const b=l().format("YYYY-MM-DD"),B=l().subtract(1,"days").format("YYYY-MM-DD"),P=l().subtract(2,"days").format("YYYY-MM-DD");l(s).isSame(b,"day")?(n("Today"),t("Today")):l(s).isSame(B,"day")?(n("Yesterday"),t("Yesterday")):l(s).isSame(P,"day")?(n(l(s).format("D MMMM YYYY,")),t("")):(n(l(s).format("D MMMM YYYY,")),t(""))},[s]);const d=[{title:`${i} Approved Deposit`,amount:(y=(r=e==null?void 0:e.data)==null?void 0:r.todayTradeApprovedDepositCoins)==null?void 0:y.toFixed(),reqCount:(c=e==null?void 0:e.data)==null?void 0:c.todayTradeApprovedDepositReqCount},{title:`${i} Approved Withdraw`,amount:(p=(C=e==null?void 0:e.data)==null?void 0:C.todayTradeApprovedWithdrawCoins)==null?void 0:p.toFixed(),reqCount:(h=e==null?void 0:e.data)==null?void 0:h.todayTradeApprovedWithdrawReqCount},{title:`${i} Pending Withdraw`,amount:(j=(A=e==null?void 0:e.data)==null?void 0:A.todayTradePendingWithdrawCoins)==null?void 0:j.toFixed(),reqCount:(Y=e==null?void 0:e.data)==null?void 0:Y.todayTradePendingWithdrawReqCount},{title:`${i} Total Trades`,amount:(D=(F=e==null?void 0:e.data)==null?void 0:F.todayTotalTradesCoins)==null?void 0:D.toFixed(),reqCount:(v=(W=e==null?void 0:e.data)==null?void 0:W.todayTotalTradesCount)==null?void 0:v.toFixed()},{title:`${i} Win Trades`,amount:(q=(w=e==null?void 0:e.data)==null?void 0:w.todayTotalWinTradesCoins)==null?void 0:q.toFixed(),reqCount:(N=(M=e==null?void 0:e.data)==null?void 0:M.todayTotalWinTradesCount)==null?void 0:N.toFixed()},{title:`${i} Loss Trades`,amount:($=(S=e==null?void 0:e.data)==null?void 0:S.todayTotalLostTradesCoins)==null?void 0:$.toFixed(),reqCount:(I=(R=e==null?void 0:e.data)==null?void 0:R.todayTotalLostTradesCount)==null?void 0:I.toFixed()},{title:`${i} Admin Trades Profits`,amount:(g=(T=e==null?void 0:e.data)==null?void 0:T.todayTotalAdminShareCoins)==null?void 0:g.toFixed(),reqCount:(L=(E=e==null?void 0:e.data)==null?void 0:E.todayTotalAdminShareCount)==null?void 0:L.toFixed()}];return o.jsxs("div",{className:"mt-6",children:[o.jsxs("h3",{className:"heading-sm flex gap-2",children:[o.jsxs("span",{children:[u," Trade Account Stats"]}),o.jsx("i",{className:"uil uil-analytics"})]}),o.jsx("div",{className:"mt-4 grid sm:grid-cols-2 grid-cols-1 gap-6",children:d.map((b,B)=>o.jsx(ue,{title:b.title,amount:b.amount,reqCount:b.reqCount},B))})]})},he=({data:e,date:s})=>{var r,y,c,C,p,h,A,j,Y,F,D,W,v,w,q,M,N,S,$,R,I;const[u,n]=f.useState("Today"),[i,t]=f.useState("");f.useEffect(()=>{const T=l().format("YYYY-MM-DD"),g=l().subtract(1,"days").format("YYYY-MM-DD"),E=l().subtract(2,"days").format("YYYY-MM-DD");l(s).isSame(T,"day")?(n("Today"),t("Today")):l(s).isSame(g,"day")?(n("Yesterday"),t("Yesterday")):l(s).isSame(E,"day")?(n(l(s).format("D MMMM YYYY,")),t("")):(n(l(s).format("D MMMM YYYY,")),t(""))},[s]);const d=[{title:`${i} Approved Deposit`,amount:(y=(r=e==null?void 0:e.data)==null?void 0:r.todayAutoTradeApprovedDepositCoins)==null?void 0:y.toFixed(),reqCount:(c=e==null?void 0:e.data)==null?void 0:c.todayAutoTradeApprovedDepositReqCount},{title:`${i} Approved Withdraw`,amount:(p=(C=e==null?void 0:e.data)==null?void 0:C.todayAutoTradeApprovedWithdrawCoins)==null?void 0:p.toFixed(),reqCount:(h=e==null?void 0:e.data)==null?void 0:h.todayAutoTradeApprovedWithdrawReqCount},{title:`${i} Pending Withdraw`,amount:(j=(A=e==null?void 0:e.data)==null?void 0:A.todayAutoTradePendingWithdrawCoins)==null?void 0:j.toFixed(),reqCount:(Y=e==null?void 0:e.data)==null?void 0:Y.todayAutoTradePendingWithdrawReqCount},{title:`${i} Total AutoTrades`,amount:(D=(F=e==null?void 0:e.data)==null?void 0:F.todayTotalAutoTradesCount)==null?void 0:D.toFixed(),reqCount:(v=(W=e==null?void 0:e.data)==null?void 0:W.todayTotalAutoTradesCount)==null?void 0:v.toFixed()},{title:`${i} Running AutoTrades`,amount:(q=(w=e==null?void 0:e.data)==null?void 0:w.todayTotalAutoTradesRunningCoins)==null?void 0:q.toFixed(),reqCount:(N=(M=e==null?void 0:e.data)==null?void 0:M.todayTotalAutoTradesRunningCount)==null?void 0:N.toFixed()},{title:`${i} Ended AutoTrades`,amount:($=(S=e==null?void 0:e.data)==null?void 0:S.todayTotalAutoTradesEndedCoins)==null?void 0:$.toFixed(),reqCount:(I=(R=e==null?void 0:e.data)==null?void 0:R.todayTotalAutoTradesEndedCount)==null?void 0:I.toFixed()}];return o.jsxs("div",{className:"mt-6",children:[o.jsxs("h3",{className:"heading-sm flex gap-2",children:[o.jsxs("span",{children:[u," Auto Trade Account Stats"]}),o.jsx("i",{className:"uil uil-analytics"})]}),o.jsx("div",{className:"mt-4 grid sm:grid-cols-2 grid-cols-1 gap-6",children:d.map((T,g)=>o.jsx(ue,{title:T.title,amount:T.amount,reqCount:T.reqCount},g))})]})},qe=()=>{const e=le(),{fullName:s}=e,{username:u}=e,[n,i]=f.useState([]),[t,d]=f.useState(new xe().ISO8601()),r=["fetch-dashboardData",{filter:t}],{isLoading:y,data:c,isError:C,error:p}=pe({queryKey:r,queryFn:()=>me.get(`/dashboard/admin-dashboard-data?date=${t}`)});return f.useEffect(()=>{c&&i(c==null?void 0:c.data),p&&ce.error("An error occured")},[c,p]),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between max-[600px]:flex-col gap-5",children:[o.jsxs("p",{className:"flex items-center gap-1 capitalize text-2xl font-bold",children:[o.jsx("span",{children:"Hi,"}),o.jsxs("span",{children:[s||(u==null?void 0:u.replace("_"," ")),"👋"]})]}),o.jsx("div",{className:"w-[250px]",children:o.jsx("div",{className:"form-row",children:o.jsx("input",{type:"date",placeholder:"Select Date",onChange:h=>d(h.target.value),value:t})})})]}),o.jsx("div",{className:"mt-6",children:y?o.jsx(Te,{}):C?o.jsx(de,{}):o.jsxs(o.Fragment,{children:[o.jsx(ye,{data:n}),o.jsx(Ce,{data:n,date:t}),o.jsx(he,{data:n,date:t})]})})]})};export{qe as default};
