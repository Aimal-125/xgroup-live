import{r as t,u as S,j as e,I as C,A as I}from"./index-B7EDHShO.js";import{D as A,U as k}from"./UpdateDepositForm-Db4mtMj_.js";import{B}from"./BackBtn-CSTzC4ci.js";import{H as F}from"./Heading-DW26iUKW.js";import{I as L}from"./ItemNotFound-DyPlXfej.js";import{L as U}from"./useWindowSize-DFtMrG7S.js";import{u as w}from"./useQuery-BH2ipur7.js";import{D as K}from"./DisplayError-DJ1Lcd3h.js";import"./moment-C5S46NFB.js";import"./Status-CY8HG0JN.js";import"./formatAmount-CWLewUcu.js";import"./plus-icon-Cm0htiCt.js";import"./index.esm-DElqZkcs.js";import"./FormControl-DgOezG3Z.js";import"./Input-Dl_zu7N-.js";import"./formik.esm-DEzKEWAH.js";import"./react-tooltip.min-CfVVvbF_.js";import"./index-LvzHWtTh.js";import"./index-Chjiymov.js";import"./deposits.constants-BksPp1tF.js";import"./ClipLoader-DJNL0iZY.js";import"./LoadingBtn-DmYHjot9.js";const ae=()=>{var d;const[s,p]=t.useState([]),[f,u]=t.useState(""),[x,j]=t.useState(""),[g,h]=t.useState(""),[v,n]=t.useState(""),[D,y]=t.useState("Error"),{id:c}=S(),M=["fetch-depositDetailsById",{id:c}],{isLoading:N,data:r,isError:R,error:o}=w({queryKey:M,queryFn:()=>I.get(`/deposit/${c}`)});return t.useEffect(()=>{if(r){const{data:{data:{doc:i},data:{doc:{orderId:{verificationMethod:m,currencyCode:a,amountPKR:b,amountUSD:E},coins:l}}}}=r;p(i),m&&u(m),l&&j(l),a&&h(a),n(a==="PKR"?b*.01:E*.01)}if(o){const{response:{data:{message:i}}}=o;y(i)}},[r,o]),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(F,{title:"Manual Deposit Details"}),e.jsx(B,{})]}),N?e.jsx(U,{}):R?e.jsx(K,{message:o?D:"An error occured while fetching data"}):((d=Object.keys(s))==null?void 0:d.length)===0?e.jsx(L,{message:"Deposit details not found."}):e.jsxs("div",{className:"flex lg:gap-6 gap-4 lg:flex-row flex-col mt-6",children:[e.jsxs("div",{className:`${(s==null?void 0:s.status)==="Approved"?"lg:flex-[0.7]":"flex-1"} bg-dark rounded-lg`,children:[e.jsx(A,{doc:s}),e.jsxs("div",{className:"p-4",children:[e.jsx("label",{className:"label",children:"Receipt"}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("div",{children:s!=null&&s.proof?e.jsx("img",{src:C+"/"+(s==null?void 0:s.proof),alt:"Deposit Receipt"}):e.jsx("p",{children:"No Receipt Found"})})})]})]}),f==="Manual"&&e.jsx("div",{className:"flex-[0.3] h-fit bg-dark p-4 rounded-lg flex flex-col gap-4",children:e.jsx(k,{currencyCode:g,coins:x,amountReceived:v})})]})]})};export{ae as default};
